<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Markmap</title>
  <style>
    html, body {
      margin: 0;
      height: 100%;
      background: #1e1e1e;
    }
    svg {
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
  <svg id="mindmap"></svg>

  <script type="module">
import { Markmap } from "https://cdn.jsdelivr.net/npm/markmap-view@0.18.12/dist/index.js";
import { Transformer } from "https://cdn.jsdelivr.net/npm/markmap-lib@0.18.12/dist/index.js";

    const markdown = `
# Nutrients+
## Nutrients
### Total Nitrogen (TN)
### Total Phosphorus (TP)
### Chlorophyll-a
## Metals
### Arsenic
### Cadmium
### Selenium
## Salts
## Temperature
## Emerging contaminants
`;

    const transformer = new Transformer();
    const { root } = transformer.transform(markdown);

    Markmap.create("#mindmap", {
      color: node => {
        const t = node.content;
        if (t.includes("Nitrogen")) return "#6c40d5";
        if (t.includes("Phosphorus")) return "#aa8cf3";
        if (t.includes("Chlorophyll")) return "#a38fd2";
        if (t.includes("Metals") || t.includes("Arsenic") || t.includes("Cadmium") || t.includes("Selenium"))
          return "#2F6DAE";
        if (t.includes("Salts")) return "#9E9E9E";
        if (t.includes("Temperature")) return "#E15759";
        if (t.includes("Emerging")) return "#F28E2B";
        return "#3f2e69"; // fallback
      }
    }, root);
  </script>
</body>
</html>
